databaseChangeLog:
  - changeSet:
      id: 1584695437711-1
      author: lei-eb
      changes:
        - dropForeignKeyConstraint:
            baseTableName: benefit_plans_users
            constraintName: fk_benefit_plan_coverages_id

  - changeSet:
      id: 1584695437711-2
      author: lei-eb
      preConditions:
        onFail: WARN
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: coverage_id
            baseTableName: benefit_plans_users
            constraintName: fk_benefit_plan_coverages_id
            onDelete: CASCADE
            onUpdate: CASCADE
            referencedColumnNames: id
            referencedTableName: benefit_plan_coverages

  - changeSet:
      id: 1585130225991-1
      author: bin-eb
      changes:
        - createTable:
            columns:
              - column:
                  name: id
                  type: binary(16)
              - column:
                  name: user_id
                  type: binary(16)
              - column:
                  name: content
                  type: text
              - column:
                  name: is_past_announcement
                  type: bool
                  defaultValue: true
              - column:
                  name: created_at
                  type: datetime
              - column:
                  name: updated_at
                  type: datetime
            tableName: system_announcements
  - changeSet:
      id: 1585031192962-1
      author: qian-eb
      preConditions:
        onFail: WARN
      changes:
        - addColumn:
            columns:
              - column:
                  name: is_auto_enroll_enabled
                  type: bool
                  defaultValue: false
            tableName: time_off_policies

  - changeSet:
      id: 1585291440465-1
      author: bin-eb
      changes:
        - createTable:
            columns:
              - column:
                  name: id
                  type: binary(16)
                  constraints:
                    primaryKey: true
              - column:
                  name: user_id
                  type: binary(16)
              - column:
                  name: system_announcement_id
                  type: binary(16)
              - column:
                  name: created_at
                  type: datetime
              - column:
                  name: updated_at
                  type: datetime
            tableName: dismissed_at

  - changeSet:
      id: 1586827241004-0
      author: qian-eb
      preConditions:
        onFail: WARN
      changes:
        - sql:
            sql: alter table emails change from_name from_name varchar(255) character set utf8mb4;
  - changeSet:
      id: 1586827241004-1
      author: qian-eb
      preConditions:
        onFail: WARN
      changes:
        - sql:
            sql: alter table emails change to_name to_name varchar(255) character set utf8mb4;
  - changeSet:
      id: 1586827241004-2
      author: qian-eb
      preConditions:
        onFail: WARN
      changes:
        - sql:
            sql: alter table emails change content content text character set utf8mb4;
  - changeSet:
      id: 1586827241004-3
      author: qian-eb
      preConditions:
        onFail: WARN
      changes:
        - sql:
            sql: alter table time_off_request_comments change comment comment text character set utf8mb4;
